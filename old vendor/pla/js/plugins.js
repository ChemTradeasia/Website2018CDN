var TRUTH=[true,'true',1],NULL=[null,'null',undefined,'undefined',''],kb={TAB:9,ESC:27,ENTER:13,UP:38,DOWN:40,LEFT:37,RIGHT:39},focusables='a,input,button,select,textarea';function getBoolean(a){return TRUTH.some(function(t){return t===a;});}function isNull(v){return(v===null||v==='null'||v===''||v===undefined||v==='undefined');}function onlyUnique(value,index,self){return self.indexOf(value)===index;}function abs(n){"use strict";return Math.abs(n);}function valRound(n,r){"use strict";r=Math.pow(10,parseInt(r));r=(isNaN(r))?100:r;n=parseFloat(n);n=(isNaN(n))?0:n;n=$.isNumeric(n)?Math.round(n*r)/r:n;return n;}String.prototype.toCapitalCase=String.prototype.toCapitalCase||function(){return this.charAt(0).toUpperCase()+this.slice(1);}
function elementSupportsAttribute(element,attribute){var test=document.createElement(element);if(attribute in test){return true;}else{return false;}};var searchFocusable=function(ob,focusable){focusable=(focusable===undefined)?focusables:focusable;if($($(focusable)[$(focusable).index(ob)+1]).is(':hidden')||$($(focusable)[$(focusable).index(ob)+1]).is(':disabled')||$($(focusable)[$(focusable).index(ob)+1]).is('[readonly]')||typeof($($(focusable)[$(focusable).index(ob)+1]))===undefined){return searchFocusable($($(focusable)[$(focusable).index(ob)+1]));}else{return $($(focusable)[$(focusable).index(ob)+1]);}}
var extractText=function(node){var v=$(node).find('span').text()||$(node).find('.form-control').val();return v;}
function paramToJSON(params){var pob='{';params=params.split(',');$.each(params,function(i,el){pob+="\""+el.split('_')[0]+"\""+':'+el.split('_')[1]+',';});pob=pob.slice(0,-1)+'}';return $.parseJSON(pob);}var matched,browser;jQuery.uaMatch=function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie)[\s?]([\w.]+)/.exec(ua)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"};};matched=jQuery.uaMatch(navigator.userAgent);matched.browser=matched.browser=='trident'?'msie':matched.browser;browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version;}if(browser.chrome){browser.webkit=true;}else if(browser.webkit){browser.safari=true;}jQuery.browser=browser;var link={init:function(){$("[aria-link], [data-link]").each(function(i,el){$(el).attr('tabindex',0);});$("[aria-link], [data-link]").off('click.links').on('click.links',function(e){var url=$(this).attr('aria-link')||$(this).attr('data-link'),tag=''+e.target.tagName.toLowerCase();if(tag==='button'||tag==='a'){return;}else if($(this).is('[data-target="_blank"]')){window.open(url,"_blank");}else{window.location.href=url;window.location.reload;}});}}
var carousel={init:function(){"use strict";$('[data-carousel="owl"]').each(function(i,el){var nav=($(el).data('nav')!==undefined)?$(el).data('nav').split('{{,}}'):["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"];$(el).owlCarousel({singleItem:true,rtl:($('html').attr('dir')==='rtl')?true:false,stagePadding:$(el).data('stagePadding')||0,smartSpeed:$(el).data('duration')||1000,animateOut:$(el).data('animateOut')||false,animateIn:$(el).data('animateIn')||false,items:$(el).data('items')||3,loop:$(el).data('loop')||true,dots:$(el).data('dots')||false,nav:$(el).data('arrows')||false,margin:($(el).data('margin')===undefined)?5:parseInt($(el).data('margin')),center:($(el).data('center')===undefined)?false:getBoolean($(el).data('center')),autoplay:($(el).data('autoplay')===undefined)?true:getBoolean($(el).data('autoplay')),autoplayTimeout:$(el).data('timeout')||1000,autoplayHoverPause:$(el).data('pause')||false,navText:nav,responsive:{0:{stagePadding:$(el).data('xsStagePadding')||0,items:$(el).data('xsItems')||1},480:{stagePadding:$(el).data('smStagePadding')||0,items:$(el).data('smItems')||1},991:{stagePadding:$(el).data('mdStagePadding')||$(el).data('stagePadding')||0,items:$(el).data('mdItems')||$(el).data('items')||3},1200:{stagePadding:$(el).data('stagePadding')||0,items:$(el).data('items')||3}},video:true});});},forceRefresh:function(){"use strict";window.dispatchEvent(new Event('resize'));}}
var popup={TOP:0,LEFT:0,LEVEL:0,WIDTH:50,HEIGHT:50,init:function(w,h,t,l){"use strict";$('[data-popup]').each(function(i,el){$(this).attr('tabindex',0);});$('[data-modal].popup').each(function(i,el){var dataset=$(el).data(),of='',toggleclasses="none invisible";dataset.level=parseInt(dataset.level)||0;popup.LEVEL=(dataset.level!==undefined&&typeof(dataset.level)==='number')?parseInt(dataset.level,10):0;if(dataset.block===false){of='none';}else if(dataset.block==="invisible"){of='invisible';}else{of='';if($(el).closest('.modalOverlay').length>0){$(el).closest('.modalOverlay').removeClass(toggleclasses);}}if($(el).closest('.modalOverlay').length<1){$(el).wrap('<div class="modalOverlay '+of+'">&nbsp;</div>');}});w=w||50;h=h||50;t=t||0;l=l||0;$('[data-popup]').on('click',function(e){var thisOb=($(this).is('[data-popup]'))?this:$(this).closest('[data-popup]'),dataset=$(thisOb).data(),modal=$(thisOb).data('popup'),ob='[data-modal='+modal+'].popup:nth-of-type(1)';if($.trim(modal)===''){return;}dataset.offsetX=!(dataset.hasOwnProperty("offsetX"))?0:dataset.offsetX;dataset.offsetY=!(dataset.hasOwnProperty("offsetY"))?0:dataset.offsetY;$(thisOb).attr('data-offset-x',dataset.offsetX);$(thisOb).attr('data-offset-y',dataset.offsetY);w=$(thisOb).data('width')||50;h=$(thisOb).data('height')||50;t=$(thisOb).data('top')||h/2;l=$(thisOb).data('left')||w/2;if(dataset.position==='inline'||$(ob).attr('data-position')==='inline'){var rel=dataset.relate;if($(rel).length>0){t=$(rel).offset().top+dataset.offsetY;l=$(rel).offset().left+dataset.offsetX;}else{t=(e.pageY-e.offsetY)+$(this).innerHeight()+dataset.offsetY;l=(e.pageX-e.offsetX)+dataset.offsetX;}$(ob).attr({'data-top':t,'data-left':l});popup.TOP=t;popup.LEFT=l;var ww=$(document).width(),wh=$(document).height();popup.TOP=((t+h)>wh)?t-((t+h)-wh):t;popup.LEFT=((l+w)>ww)?l-((l+w)-ww):l;}if(dataset.units==='px'||dataset.units==='pixel'){$(ob).attr('data-units','px');t=$(thisOb).data('top')||0;l=$(thisOb).data('left')||0;w=$(thisOb).data('width')||$(window).width()-20;h=$(thisOb).data('height')||$(window).height()-20;}else{$(ob).attr('data-units','%');w=(w>=100)?100:w;h=(h>=100)?100:h;t=(t>=h/2)?0:t;l=(l>=w/2)?0:l;}if($(this).is('[data-xpopup="true"]')){parent.popup.open(ob,w,h,dataset,t,l);}else{popup.open(ob,w,h,dataset,t,l);}});$('.popup [data-hide]').off('click.popup').on('click.popup',function(){popup.close($(this).closest('.popup'));});$('[data-modal].popup').each(function(i,el){$(el).trigger("popup.init",$(el));});},open:function(obPop,w,h){"use strict";var vArgs=Array.prototype.slice.call(arguments,3),t=Array.prototype.slice.call(arguments,4,5),l=Array.prototype.slice.call(arguments,5),i=0,ob,key,tgt,dataset=vArgs[0]||$(obPop).data(),video=$(obPop).find('video'),modal=$(obPop).data('modal');ob='[data-modal='+modal+'].popup:nth-of-type(1)';dataset.class=dataset.class||'';dataset.level=parseInt(dataset.level,10)||0;dataset.animateIn=dataset.animateIn||'';dataset.animateOut=dataset.animateOut||'';dataset.offsetX=!(dataset.hasOwnProperty("offsetX"))?0:parseInt(dataset.offsetX,10);dataset.offsetY=!(dataset.hasOwnProperty("offsetY"))?0:parseInt(dataset.offsetY,10);$(ob).attr('data-offset-x',dataset.offsetX);$(ob).attr('data-offset-y',dataset.offsetY);for(i=0;i<vArgs.length;i+=1){for(key in vArgs[i]){if(vArgs[i].hasOwnProperty(key)){if(key.match(/^xsource/)){$(obPop).attr('data-xsource',true);$(obPop).find('.popContent').html('<iframe id="'+obPop+'_iframe" onload="popup.loader(\''+obPop+'\',false)" src="'+vArgs[i][key]+'" frameborder="0"></iframe>');}else if(key.match(/^setAttr/)){tgt=key.replace(/^setAttr/,'').toLowerCase();$(obPop).find('[data-get-attr-'+tgt+']').attr(tgt,vArgs[i][key]);}else if(key.match(/^setData/)){tgt=key.replace(/^setData/,'').toLowerCase();$(obPop).find('[data-get-data-'+tgt+']').attr('data-'+tgt,vArgs[i][key]);}else if(key.match(/^setText/)){$(obPop).find('[data-get-text]').text(vArgs[i][key]);}else if(key.match(/^setTemplate/)){$(obPop).find('[data-get-template]').html(vArgs[i][key]);}else if(key.match(/^set/)){try{var ds=$.parseJSON(dataset[key].replace(/'/g,'"'));}catch(e){if(typeof(dataset[key])==='object'){ds=dataset[key];}else if(typeof(dataset[key])==='string'){console.error('SYNTAX Error: Datatype Mismatch / Incorrect Data Format. \n ::: %s',dataset[key]);return;}}if(ds.datatype==='JSON_encoded'&&typeof(ds.data==='String')){if($(ds.data).length>0){var json=decode($(ds.data).val(),'json_object');this.setData(obPop,json);}else{console.error('EXCEPTION: Datasource not found.');}}else if(ds.datatype==='JSON_string'){var json=ds.data;this.setData(obPop,json);}else if(ds.datatype==='JSON_object'){var json=ds.data;this.setData(obPop,json);}}}}}if(video){$(video).each(function(i,el){if($(el).data('autoplay')==="true"){el.play();}});}if(dataset.units==='px'||dataset.units==='pixel'){w=w||$(window).width()-20;h=h||$(window).height()-20;if(!(dataset.position==='inline')||getBoolean(dataset.responsive)===true){w=(w>=$(window).width())?$(window).width():w;h=(h>=$(window).height())?$(window).height():h;}if(dataset.position==='center'){t=(abs($(window).height()-h)/2);l=(abs($(window).width()-w)/2);}else if(dataset.position==='absolute'){t=(dataset.top>($(window).height()-h))?$(window).height()-h:dataset.top;l=(dataset.left>($(window).width()-w))?$(window).width()-w:dataset.left;}else if(dataset.position==='inline'){var rel=dataset.relate;var ww=$(document).width(),wh=$(document).height();if($(rel).length>0){t=$(rel).offset().top+dataset.offsetY;l=$(rel).offset().left+dataset.offsetX;l=((l+w)>ww)?l-((l+w)-ww):l;t=((t+h)>wh)?t-((t+h)-wh):t;}else{t=popup.TOP;l=popup.LEFT;l=((l+w)>ww)?l-((l+w)-ww):l;t=((t+h)>wh)?t-((t+h)-wh):t;}$('body').css('position','relative');$(ob).closest('.modalOverlay').addClass('inlineMock');popup.TOP=t;popup.LEFT=l;}$(ob).attr({'data-units':'px','data-width':w,'data-height':h,'data-class':dataset.class,'data-relate':dataset.relate,'data-top':t+dataset.offsetY,'data-left':l+dataset.offsetX,'data-offset-x':dataset.offsetX,'data-offset-y':dataset.offsetY,'data-animate-in':dataset.animateIn,'data-animate-out':dataset.animateOut,'data-position':dataset.position||'center'});}else{w=w||50;h=h||50;w=(w>=100)?100:w;h=(h>=100)?100:h;$(ob).attr({'data-top':t,'data-left':l,'data-width':w,'data-height':h,'data-units':'%','data-class':dataset.class,'data-animate-in':dataset.animateIn,'data-animate-out':dataset.animateOut,'data-position':dataset.position||'center'});}popup.TOP=t;popup.LEFT=l;popup.WIDTH=w;popup.HEIGHT=h;if(dataset.block===true||dataset.block===undefined){$('body').addClass('modalOpen');}if((dataset.scroll===true||dataset.position==='inline')&&(dataset.block===true||dataset.block===undefined)){$('body').removeClass('modalOpen');}if($.trim(dataset.animateIn)!==''){$(ob).addClass('open '+dataset.class+' '+dataset.animateIn).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',function(){$(this).removeClass(dataset.animateIn);popup.refresh();}).parent('.modalOverlay').addClass('active').css({'z-index':1050+dataset.level});}else{$(ob).addClass('open '+dataset.class).parent('.modalOverlay').addClass('active').css({'z-index':1050+dataset.level});}if(dataset.units==='px'||dataset.units==='pixel'){$(ob).attr('data-units','px');$(ob).css({'top':t+'px','left':l+'px','width':w+'px','height':h+'px','max-width':'calc(100% - '+l+'px)'});}else{$(ob).attr('data-units','%');$(ob).css({'top':(abs(100-h)/2)+'%','left':(abs(100-w)/2)+'%','width':w+'%','height':h+'%'});}popup.refresh(ob);$(obPop).trigger("popup.open",$(obPop));},refresh:function(){"use strict";var ob='.popup.open',dataset,hdr,ftr;$(ob).each(function(i,el){dataset=$(el)[0].dataset;popup.WIDTH=parseInt(dataset.width,10);popup.HEIGHT=parseInt(dataset.height,10);popup.TOP=parseInt(dataset.top,10)||0;popup.LEFT=parseInt(dataset.left,10)||0;$('.popup [data-hide]').off('click.popup').on('click.popup',function(){popup.close($(this).closest('.popup'));});$('.modalOverlay').off('click.popup').on('click.popup',function(e){if($(e.target).is('.modalOverlay')&&$(e.target).find('[data-dismiss="true"].popup').length>0){popup.close($(this).find('.popup'));}});$(document).off('keydown.popup').on('keydown.popup',function(e){if(e.which===kb.ESC){$('.modalOverlay.active').each(function(i,el){if($(el).find('.popup[data-dismiss="true"]').length>0){popup.close($(this).find('.popup'));}});}});if(dataset.units==='px'||dataset.units==='pixel'){$(el).attr('data-units','px');var w=(popup.WIDTH>=$(window).width())?$(window).width():popup.WIDTH,h=(popup.HEIGHT>=$(window).height())?$(window).height():popup.HEIGHT,t=popup.TOP,l=popup.LEFT;if(dataset.position==='center'){t=(abs($(window).height()-h)/2);l=(abs($(window).width()-w)/2);}else if(dataset.position==='absolute'){t=(dataset.top>($(window).height()-h))?$(window).height()-h:dataset.top;l=(dataset.left>($(window).width()-w))?$(window).width()-w:dataset.left;}else if(dataset.position==='inline'){$('body').css('position','relative');$(ob).closest('.modalOverlay').addClass('inlineMock');t=popup.TOP;l=popup.LEFT;w=popup.WIDTH;h=popup.HEIGHT;}$(el).css({'top':t,'left':l,'width':w+'px','height':h+'px'});}else{$(el).attr('data-units','%');}hdr=$(el).find('.popHeader').innerHeight();ftr=$(el).find('.popFooter').innerHeight();$(el).find('.popContent').css('height',$(el).innerHeight()-(hdr+ftr));$(el).trigger("popup.refresh",$(el));});},setData:function(obPop,json){$(json).each(function(di,dx){var k='selector';if(dx.hasOwnProperty(k)){if(dx.hasOwnProperty('attr')){if($(obPop).find(dx[k]).length>0){if($(dx[k]).is('input:checkbox')||$(dx[k]).is('input:radio')){$(obPop).find(dx[k])[0].checked=true;}else if($(dx[k]).is('[data-range-slider]')){$(dx[k]).slider('value',dx['attr']);}else{$(obPop).find(dx[k]).attr(dx['attr']);}}}else if(dx.hasOwnProperty('removeClass')){$(obPop).find(dx[k]).removeClass(dx['removeClass']);}else if(dx.hasOwnProperty('class')){$(obPop).find(dx[k]).addClass(dx['class']);}else if(dx.hasOwnProperty('val')){$(obPop).find(dx[k]).val(dx['val']);}else if(dx.hasOwnProperty('text')){if($(obPop).find(dx[k]).length>0){$(obPop).find(dx[k]).text(dx['text']);}}else if(dx.hasOwnProperty('template')){if($(obPop).find(dx[k]).length>0){$(obPop).find(dx[k]).html(dx['template']);}}}});},close:function(obPop){"use strict";var reset=$(obPop).find('[data-reset="true"]'),dataset=$(obPop)[0].dataset;if(reset.length>0){$(reset).each(function(i,e){switch(e.tagName.toLowerCase()){case'video':e.currentTime=0;e.pause();break;case'iframe':e.src='';break;case'input':case'select':if($(e).attr('type')==='radio'||$(e).attr('type')==='checkbox'){if($(e).is('[data-init]')){e.checked=$(e).attr('data-init');}else{e.checked=false;}}else{e.value='';}break;case'p':case'div':case'span':$(obPop).find(e).html('');break;default:$(obPop).find(e).html('');break;}});}$('body').removeClass('modalOpen');if($.trim(dataset.animateOut)!==''){$(obPop).addClass(dataset.animateOut).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',function(){$(this).removeClass('open '+dataset.class+' '+dataset.animateOut).parent('.modalOverlay').removeClass('active').removeAttr('style');});popup.refresh();}else{$(obPop).removeClass('open '+dataset.class).closest('.modalOverlay').removeClass('active').removeAttr('style');}$(obPop).trigger("popup.close",$(obPop));},loader:function(obPop,opt){"use strict";$(obPop).attr('data-loader',opt);}};$(document).ready(function(){"use strict";popup.init();});$(window).resize(function(){"use strict";popup.refresh();});var dialog={init:function(ob,data){if($(ob).closest('.dialogBackdrop').length<1){$(ob).wrap('<div class="dialogBackdrop ">&nbsp;</div>');}},open:function(ob,data){$(ob).find('.dialog-message').html(data.message);$('.dialog-footer').find('button').remove();$('.dialog-footer').html('');$(data.buttons).each(function(i,button){var btn=$('<button/>');button.class=(button.class===undefined)?'btn btn-mtl btn-link ':'btn btn-mtl btn-link '+button.class;console.log(button.class)
$(btn).attr('id','dialogBtn-'+i).addClass(button.class).html(button.label);$(ob).find('.dialog-footer').append(btn);$(ob).find('#dialogBtn-'+i).off('click.dialog.button_i').on('click.dialog.button_i',function(){if(button.action!==undefined&&typeof button.action==="string"){console.log(button.action);var fnName=button.action.split('('),fnparams=fnName[1].split(')')[0].split(','),fn=window[fnName[0]];if(typeof fn==="function")fn.apply(null,fnparams);}else if(typeof button.action==="function"){button.action.apply(null,fnparams)}else{console.error("Undefined Error , %o",button.action);}});});if(data.backdrop===true){$(ob).closest('.dialogBackdrop').addClass('active');}else{$(ob).closest('.dialogBackdrop').addClass('transparent');}$(ob).css({"width":data.width,"height":data.height}).addClass('open').removeAttr('open');},close:function(ob,data){$(ob).removeClass('open');$(ob).removeAttr('open');if(data.backdrop===true){$(ob).closest('.dialogBackdrop').removeClass('active');}}};var duplicator={init:function(){var d=duplicator;$('.clone.btn').off('click.duplicator').on('click.duplicator',function(){var params=$(this).attr('data-params'),foc=$(this).attr('data-focus'),row=$(this).closest('[data-current]').clone(true),fiEvent=$.Event('duplicator.row.creating'),dataRow=$(this).closest('[data-parent]').attr('data-parent');$(document).trigger(fiEvent,[$(this).closest('[data-current]')]);if(fiEvent.isDefaultPrevented()===true){return true;}foc=foc.split('-')[0];params=paramToJSON(params);params.r=params.r+1;row=d.createClone(row,params);$(row).find('.clone.btn').attr('data-params','c_'+params.c+',r_'+(params.r));$(this).closest('.dataRowCards').find('.clone.newCard').attr('data-params','c_'+params.c+',r_'+(params.r));$(this).closest('[data-parent] > .dataRows').append(row);page.refresh();$(this).closest('[data-current]').attr('data-last',"false");$(this).remove();$('#'+foc+'-'+params.c+'_r'+(params.r)).focus();fiEvent=$.Event('duplicator.row.created');$(document).trigger(fiEvent,[row]);});$('.destroy.btn').off('click.duplicator').on('click.duplicator',function(){var l=$(this).closest('.dataRows').find('[data-last]').length,fiEvent=$.Event('duplicator.row.removing'),dataRow=$(this).closest('[data-parent]').attr('data-parent');$(document).trigger(fiEvent,[$(this).closest('[data-current]')]);if(fiEvent.isDefaultPrevented()===true){return true;}if(l>1){if(($(this).closest('[data-current]').is('[data-last="true"]'))){var addBtn=$(this).prev('.btn.clone').clone(true);$(this).closest('[data-current]').prev(dataRow).find('[data-focus^=clone]').attr('data-focus',$(addBtn).attr('id'));$(this).closest('[data-current]').prev(dataRow).attr('data-last','true').find('.cloneController').prepend(addBtn);}$(this).closest('[data-current]').remove();}else{$(this).closest('[data-current]').find('[data-control]').each(function(idx,ctrl){duplicator.resetCtrls(ctrl);});}fiEvent=$.Event('duplicator.row.removed');$(document).trigger(fiEvent);});$('.newCard.clone').off('click.duplicator').on('click.duplicator',function(e){var params=$(this).attr('data-params'),card=$(this).closest('[data-current]').clone(true),fiEvent=$.Event('duplicator.card.creating');$(document).trigger(fiEvent,[$(this).closest('[data-current]')]);if(fiEvent.isDefaultPrevented()===true){return true;}params=paramToJSON(params);params.r=1;params.c=params.c+1;card=d.createClone(card,params);$(card).find('[data-last="false"]').remove();$(card).attr('data-current',params.c+','+params.r);$(card).find('[data-current]').attr('data-current',params.c+','+params.r);$(card).find('.clone.newCard').attr('data-params','c_'+params.c+',r_'+params.r);$(card).find('.clone.btn').attr('data-params','c_'+params.c+',r_'+params.r);$(this).closest('.dataRowCards').append(card);page.refresh();$(this).remove();fiEvent=$.Event('duplicator.card.created');$(document).trigger(fiEvent,card);});$('.thisCard.destroy').off('click.duplicator').on('click.duplicator',function(){var l=$(this).closest('.dataRowCards').find('[data-last].card').length,fiEvent=$.Event('duplicator.card.removing');dataRow=$(this).attr('data-parent');$(document).trigger(fiEvent,[$(this).closest('[data-current]')]);if(fiEvent.isDefaultPrevented()===true){return true;}if(l>1){if(($(this).closest('[data-current]').is('[data-last="true"]'))){var addBtn=$(this).prev('.newCard.clone').clone(true);$(this).closest('[data-current].card').prev('.card').attr('data-last','true').find('.btn-fab-group').prepend(addBtn);}$(this).closest('[data-current]').remove();}else{$(this).closest('[data-current]').find(dataRow+':not([data-last="true"])').remove();}fiEvent=$.Event('duplicator.card.removed');$(document).trigger(fiEvent);});},createClone:function(element,params,formControl){formControl=(formControl===undefined||formControl==='')?'[data-control]':formControl;var ctrl=$(element).find(formControl).val(''),idRes=$(element).find('[id]'),fiEvent=$.Event('duplicator.duplicating');$(element).attr('data-current',params.c+','+params.r);$(document).trigger(fiEvent,[element,params]);if(fiEvent.isDefaultPrevented()===true){return true;}$(idRes).each(function(i,el){if($(el).is('[id]')){var id=$(el).attr('id')||'',foc=$(el).data('focus')||'',regx=/(-[\d]_r[\d]+)/;id=id.replace(regx,'-'+params.c+'_r'+(params.r));if(typeof foc!=='undefined'){foc=foc.replace(regx,'-'+params.c+'_r'+params.r);}$(this).removeClass('.autoCombo').attr("id","").removeData().off();$(el).attr({'id':id,'data-focus':foc});if($(el).is('[data-type="autocomplete"]')){$(el).addClass('.autoCombo');}}});$(ctrl).each(function(i,el){duplicator.resetCtrls(el);});return element;},resetCtrls:function(ctrl){if($(ctrl).is('[data-init]')){if($(ctrl).attr('data-init').match(/[\[][^\]]*[\]]/)){var v=$(el).attr('data-init');$(el).attr('data-init',$(el).closest(v).attr(v.replace(/[\[\]]/g,'')));}else if($(ctrl).is('input[type="radio"]')||$(ctrl).is('input[type="checkbox"]')){$(ctrl).prop("checked",getBoolean($(ctrl).attr('data-init')));}else if($(ctrl).is('input[type="number"]')){if($(ctrl).is('[min]')){if(parseInt($(ctrl).attr('data-init'))>=parseInt($(ctrl).attr('min'))||parseFloat($(ctrl).attr('data-init'))>=parseFloat($(ctrl).attr('min'))){$(ctrl).val($(ctrl).attr('data-init'));}else{$(ctrl).val($(ctrl).attr('min'));}}else{$(ctrl).val($(ctrl).attr('data-init'));}}else if($(ctrl).is('select')){$(ctrl).html('<option>'+$(ctrl).attr('data-init')+'</option>');}else if($(ctrl).is(':input')){$(ctrl).val($(ctrl).attr('data-init'));}else{$(ctrl).html($(ctrl).attr('data-init'));}}else if($(ctrl).is(':input')){$(ctrl).val('');}else{$(ctrl).html('');}}};'use strict';(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){module.exports=factory(require('jquery'));}else{factory(jQuery||Zepto);}}(function($){var Mask=function(el,mask,options){el=$(el);var jMask=this,oldValue=el.val(),regexMask;mask=typeof mask==='function'?mask(el.val(),undefined,el,options):mask;var p={invalid:[],getCaret:function(){try{var sel,pos=0,ctrl=el.get(0),dSel=document.selection,cSelStart=ctrl.selectionStart;if(dSel&&navigator.appVersion.indexOf('MSIE 10')===-1){sel=dSel.createRange();sel.moveStart('character',el.is('input')?-el.val().length:-el.text().length);pos=sel.text.length;}else if(cSelStart||cSelStart==='0'){pos=cSelStart;}return pos;}catch(e){}},setCaret:function(pos){try{if(el.is(':focus')){var range,ctrl=el.get(0);if(ctrl.setSelectionRange){ctrl.setSelectionRange(pos,pos);}else if(ctrl.createTextRange){range=ctrl.createTextRange();range.collapse(true);range.moveEnd('character',pos);range.moveStart('character',pos);range.select();}}}catch(e){}},events:function(){el.on('input.mask keyup.mask',p.behaviour).on('paste.mask drop.mask',function(){setTimeout(function(){el.keydown().keyup();},100);}).on('change.mask',function(){el.data('changed',true);}).on('blur.mask',function(){if(oldValue!==el.val()&&!el.data('changed')){el.triggerHandler('change');}el.data('changed',false);}).on('blur.mask',function(){oldValue=el.val();}).on('focus.mask',function(e){if(options.selectOnFocus===true){$(e.target).select();}}).on('focusout.mask',function(){if(options.clearIfNotMatch&&!regexMask.test(p.val())){p.val('');}});},getRegexMask:function(){var maskChunks=[],translation,pattern,optional,recursive,oRecursive,r;for(var i=0;i<mask.length;i++){translation=jMask.translation[mask.charAt(i)];if(translation){pattern=translation.pattern.toString().replace(/.{1}$|^.{1}/g,'');optional=translation.optional;recursive=translation.recursive;if(recursive){maskChunks.push(mask.charAt(i));oRecursive={digit:mask.charAt(i),pattern:pattern};}else{maskChunks.push(!optional&&!recursive?pattern:(pattern+'?'));}}else{maskChunks.push(mask.charAt(i).replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&'));}}r=maskChunks.join('');if(oRecursive){r=r.replace(new RegExp('('+oRecursive.digit+'(.*'+oRecursive.digit+')?)'),'($1)?').replace(new RegExp(oRecursive.digit,'g'),oRecursive.pattern);}return new RegExp(r);},destroyEvents:function(){el.off(['input','keydown','keyup','paste','drop','blur','focusout',''].join('.mask '));},val:function(v){var isInput=el.is('input'),method=isInput?'val':'text',r;if(arguments.length>0){if(el[method]()!==v){el[method](v);}r=el;}else{r=el[method]();}return r;},getMCharsBeforeCount:function(index,onCleanVal){for(var count=0,i=0,maskL=mask.length;i<maskL&&i<index;i++){if(!jMask.translation[mask.charAt(i)]){index=onCleanVal?index+1:index;count++;}}return count;},caretPos:function(originalCaretPos,oldLength,newLength,maskDif){var translation=jMask.translation[mask.charAt(Math.min(originalCaretPos-1,mask.length-1))];return!translation?p.caretPos(originalCaretPos+1,oldLength,newLength,maskDif):Math.min(originalCaretPos+newLength-oldLength-maskDif,newLength);},behaviour:function(e){e=e||window.event;p.invalid=[];var keyCode=e.keyCode||e.which;if($.inArray(keyCode,jMask.byPassKeys)===-1){var caretPos=p.getCaret(),currVal=p.val(),currValL=currVal.length,changeCaret=caretPos<currValL,newVal=p.getMasked(),newValL=newVal.length,maskDif=p.getMCharsBeforeCount(newValL-1)-p.getMCharsBeforeCount(currValL-1);p.val(newVal);if(changeCaret&&!(keyCode===65&&e.ctrlKey)){if(!(keyCode===8||keyCode===46)){caretPos=p.caretPos(caretPos,currValL,newValL,maskDif);}p.setCaret(caretPos);}return p.callbacks(e);}},getMasked:function(skipMaskChars){var buf=[],value=p.val(),m=0,maskLen=mask.length,v=0,valLen=value.length,offset=1,addMethod='push',resetPos=-1,lastMaskChar,check;if(options.reverse){addMethod='unshift';offset=-1;lastMaskChar=0;m=maskLen-1;v=valLen-1;check=function(){return m>-1&&v>-1;};}else{lastMaskChar=maskLen-1;check=function(){return m<maskLen&&v<valLen;};}while(check()){var maskDigit=mask.charAt(m),valDigit=value.charAt(v),translation=jMask.translation[maskDigit];if(translation){if(valDigit.match(translation.pattern)){buf[addMethod](valDigit);if(translation.recursive){if(resetPos===-1){resetPos=m;}else if(m===lastMaskChar){m=resetPos-offset;}if(lastMaskChar===resetPos){m-=offset;}}m+=offset;}else if(translation.optional){m+=offset;v-=offset;}else if(translation.fallback){buf[addMethod](translation.fallback);m+=offset;v-=offset;}else{p.invalid.push({p:v,v:valDigit,e:translation.pattern});}v+=offset;}else{if(!skipMaskChars){buf[addMethod](maskDigit);}if(valDigit===maskDigit){v+=offset;}m+=offset;}}var lastMaskCharDigit=mask.charAt(lastMaskChar);if(maskLen===valLen+1&&!jMask.translation[lastMaskCharDigit]){buf.push(lastMaskCharDigit);}return buf.join('');},callbacks:function(e){var val=p.val(),changed=val!==oldValue,defaultArgs=[val,e,el,options],callback=function(name,criteria,args){if(typeof options[name]==='function'&&criteria){options[name].apply(this,args);}};callback('onChange',changed===true,defaultArgs);callback('onKeyPress',changed===true,defaultArgs);callback('onComplete',val.length===mask.length,defaultArgs);callback('onInvalid',p.invalid.length>0,[val,e,el,p.invalid,options]);}};jMask.mask=mask;jMask.options=options;jMask.remove=function(){var caret=p.getCaret();p.destroyEvents();p.val(jMask.getCleanVal());p.setCaret(caret-p.getMCharsBeforeCount(caret));return el;};jMask.getCleanVal=function(){return p.getMasked(true);};jMask.init=function(onlyMask){onlyMask=onlyMask||false;options=options||{};jMask.byPassKeys=$.jMaskGlobals.byPassKeys;jMask.translation=$.jMaskGlobals.translation;jMask.translation=$.extend({},jMask.translation,options.translation);jMask=$.extend(true,{},jMask,options);regexMask=p.getRegexMask();if(onlyMask===false){if(options.placeholder){el.attr('placeholder',options.placeholder);}if($('input').length&&'oninput'in $('input')[0]===false&&el.attr('autocomplete')==='on'){el.attr('autocomplete','off');}p.destroyEvents();p.events();var caret=p.getCaret();p.val(p.getMasked());p.setCaret(caret+p.getMCharsBeforeCount(caret,true));}else{p.events();p.val(p.getMasked());}};jMask.init(!el.is('input'));};$.maskWatchers={};var HTMLAttributes=function(){var input=$(this),options={},prefix='data-mask-',mask=input.attr('data-mask');if(input.attr(prefix+'reverse')){options.reverse=true;}if(input.attr(prefix+'clearifnotmatch')){options.clearIfNotMatch=true;}if(input.attr(prefix+'selectonfocus')==='true'){options.selectOnFocus=true;}if(notSameMaskObject(input,mask,options)){return input.data('mask',new Mask(this,mask,options));}},notSameMaskObject=function(field,mask,options){options=options||{};var maskObject=$(field).data('mask'),stringify=JSON.stringify,value=$(field).val()||$(field).text();try{if(typeof mask==='function'){mask=mask(value);}return typeof maskObject!=='object'||stringify(maskObject.options)!==stringify(options)||maskObject.mask!==mask;}catch(e){}};$.fn.mask=function(mask,options){options=options||{};var selector=this.selector,globals=$.jMaskGlobals,interval=$.jMaskGlobals.watchInterval,maskFunction=function(){if(notSameMaskObject(this,mask,options)){return $(this).data('mask',new Mask(this,mask,options));}};$(this).each(maskFunction);if(selector&&selector!==''&&globals.watchInputs){clearInterval($.maskWatchers[selector]);$.maskWatchers[selector]=setInterval(function(){$(document).find(selector).each(maskFunction);},interval);}return this;};$.fn.unmask=function(){clearInterval($.maskWatchers[this.selector]);delete $.maskWatchers[this.selector];return this.each(function(){var dataMask=$(this).data('mask');if(dataMask){dataMask.remove().removeData('mask');}});};$.fn.cleanVal=function(){return this.data('mask').getCleanVal();};$.applyDataMask=function(selector){selector=selector||$.jMaskGlobals.maskElements;var $selector=(selector instanceof $)?selector:$(selector);$selector.filter($.jMaskGlobals.dataMaskAttr).each(HTMLAttributes);};var globals={maskElements:'input,td,span,div',dataMaskAttr:'*[data-mask]',dataMask:true,watchInterval:300,watchInputs:true,watchDataMask:false,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{'0':{pattern:/\d/},'9':{pattern:/\d/,optional:true},'#':{pattern:/\d/,recursive:true},'A':{pattern:/[a-zA-Z0-9]/},'S':{pattern:/[a-zA-Z]/}}};$.jMaskGlobals=$.jMaskGlobals||{};globals=$.jMaskGlobals=$.extend(true,{},globals,$.jMaskGlobals);if(globals.dataMask){$.applyDataMask();}setInterval(function(){if($.jMaskGlobals.watchDataMask){$.applyDataMask();}},globals.watchInterval);}));(function($){$.fn.setVal=function(v){var p=$(this).val(),c=Array.prototype.slice.call(arguments,1);$(this).val(v).change();if(c.length!==undefined&&c.length>0&&typeof c==="function"){c(p,v);}return this;};$.fn.getVal=function(){return $(this).val();};$.fn.mtl=function(opt){var State;(function(State){State[State["Error"]=0]="Error";State[State["Success"]=1]="Success";State[State["Warning"]=2]="Warning";State[State["Default"]=3]="Default";})(State||(State={}));;var o={val:$(this).val(),message:{type:"Error",text:""}};$.extend(o,opt);o.message.type=o.message.type.toCapitalCase();for(key in o){if(typeof o[key]==='object'){if(key==='message'){$(this).closest('.mtl').removeClass('onError onSuccess onWarning');if(o[key]['type']!=="Default"||o[key]['type']!==""){$(this).closest('.mtl').addClass('hasMessage on'+o[key]['type']);$(this).next('label').find('small').html(o[key]['text']);}else{$(this).closest('.mtl').removeClass('hasMessage onError onSuccess onWarning');}}}else{if(o.hasOwnProperty('attr')){if($(this).length>0){if($(o[key]).is('input:checkbox')||$(o[key]).is('input:radio')){$(this)[0].checked=true;}else if($(o[key]).is('[data-range-slider]')){$(o[key]).slider('value',o['attr']);}else{$(this).attr(o['attr']);}}}if(o.hasOwnProperty('removeAttr')){$(this).removeAttr(o['removeAttr']);}if(o.hasOwnProperty('removeClass')){$(this).removeClass(o['removeClass']);}else if(o.hasOwnProperty('class')){$(this).addClass(o['class']);}else if(o.hasOwnProperty('val')){$(this).val(o['val']).change();}else if(o.hasOwnProperty('text')){if($(this).length>0){$(this).text(o['text']);}}else if(o.hasOwnProperty('template')){if($(this).length>0){$(this).html(o['template']);}}}}$(this).materialise({});};$.fn.materialise=function(custom){var ob=this,op={"class":"","message":""},mtlClass='mtl';custom.floatingLabel=(custom.floatingLabel===undefined)?true:custom.floatingLabel;custom.placeholderLabel=(custom.placeholderLabel===undefined)?true:custom.placeholderLabel;custom.validation=(custom.validation===undefined)?["","*"]:custom.validation;this.each(function(i,el){var mtlWrap=$(el).parents('.'+mtlClass).length,mtl=$(el).parent('.'+mtlClass),ds=$(el).data(),attr=el.attributes;if(elementSupportsAttribute(el.tagName,"id")){(attr.id===undefined)?el.setAttribute('id','mtl-ctrl_'+new Date().getTime()):attr["id"];attr=el.attributes;}else{attr["id"]=(attr.id===undefined)?document.createAttribute('id'):attr["id"];attr["id"].value=(attr.id.value==='')?('mtl-ctrl_'+new Date().getTime()):attr["id"].value;}ds.floatingLabel=(ds.floatingLabel===undefined)?custom.floatingLabel:ds.floatingLabel;ds.placeholderLabel=(ds.placeholderLabel===undefined)?custom.placeholderLabel:ds.placeholderLabel;if(ds.validation===undefined){ds.validation=custom.validation;}else if(typeof ds.validation!=='object'){ds.validation=ds.validation.split('|');}opt={'width':ds.width||'100%','validation':ds.validation,"class":ds.class||custom.class,'label':ds.label||custom.label,'floatingLabel':ds.floatingLabel,'message':ds.message||custom.message,'placeholderLabel':ds.placeholderLabel,'placeholder':ds.placeholder||custom.placeholder,'type':ds.type||$(el).attr('type')||$(el).prop("tagName").toLowerCase()};opt.class=(opt.class===undefined)?'':opt.class;$.extend(op,opt);if(mtlWrap===0){$(el).wrap("<div class='"+mtlClass+" "+opt.class+"'></div>");}else if(mtlWrap>1){while(mtlWrap>1){$($(el).parents('.'+mtlClass)[mtlWrap-1]).removeClass(mtlClass);mtlWrap=$(el).parents('.'+mtlClass).length;}}$(el).closest('.'+mtlClass).addClass(opt.class);if($(el).is(':disabled')){$(el).closest('.'+mtlClass).addClass('disabled');}$(el).parent('.'+mtlClass).addClass(mtlClass+'-'+op.type).attr('data-type',op.type);if(getBoolean(op.placeholderLabel)===true&&$(el).parent('.'+mtlClass).length===1){var lbl=$(el).attr('data-placeholder')||$(el).attr('data-label')||$(el).attr('placeholder')||'';if(lbl!==undefined&&$(el).parent('.'+mtlClass).find('.mtl-label').length<=0){if($.trim(op.validation[0])!==''){lbl=lbl+"<i>"+op.validation[1]+"</i>";}$(el).parent('.'+mtlClass).append('<label class="mtl-label" for="'+attr["id"].value+'">'+lbl+'<small>'+op.message+'</small></label>');$(el).removeAttr('placeholder').removeAttr('data-label');}}else if(getBoolean(op.placeholderLabel)===false&&$(el).parent('.'+mtlClass).length===1){$(el).parent('.'+mtlClass).addClass(mtlClass+'-no-label');var lbl=$(el).attr('data-placeholder')||$(el).attr('data-label')||$(el).attr('placeholder')||'';if(lbl!==undefined&&$(el).parent('.'+mtlClass).find('.mtl-label').length<=0){$(el).parent('.'+mtlClass).append('<label class="mtl-label" for="'+attr["id"].value+'"><small>'+op.message+'</small></label>');}}if(getBoolean(op.floatingLabel)===true&&getBoolean(op.placeholderLabel)===true){$(el).parent('.'+mtlClass).addClass(mtlClass+'-floatingLabel');}else{$(el).parent('.'+mtlClass).removeClass(mtlClass+'-floatingLabel');}$(el).off('focus.material').on('focus.material',function(){$(this).closest('.'+mtlClass).addClass('focus');});$(el).off('change.material input.material click.material blur.material propertychange.material paste.material').on('change.material input.material click.material blur.material propertychange.material paste.material',function(){if($.trim($(this).val())===''){$(this).parent('.'+mtlClass).removeClass('hasValue');}else{$(this).parent('.'+mtlClass).addClass('hasValue');}});$(el).off('blur.material').on('blur.material',function(){$(this).parent('.'+mtlClass).removeClass('focus');});if($(el).val()!==''){$(el).parent('.'+mtlClass).addClass('hasValue');}});return this;};$.fn.message=function(data){var alertClass="alert",ob=$(this);if($('.alert.active').length>0){$('.alert').removeClass('active').removeClass("alert-success alert-warning alert-info alert-danger");}$(ob).addClass("alert-"+data.type);$(ob).find('.'+alertClass+'-message').text(data.message);$(ob).addClass('active');timeOut=setTimeout(function(){$(ob).removeClass('active').removeClass("alert-"+data.type);$(ob).find('.'+alertClass+'-message').text('');},data.timeout);$('.'+alertClass+' .close').on('click',function(){clearTimeout(timeOut);$(this).parent('.'+alertClass).removeClass('active').removeClass("alert-"+data.type);$(this).parent('.'+alertClass).find('.'+alertClass+'-message').text('');});return this;};$.fn.showSnackbar=function(data){var sbClass="snackbar",ob=$(this);$.extend(data,{class:data.class||"",position:data.position||"bottom",message:data.message||"",actionText:data.actionText||"OK",actionHandler:data.actionHandler||void(0)});$(ob).addClass(data.class);if($('.snackbar.active').length>0){$('.snackbar').removeClass('active');}$(ob).attr('data-placement',data.position);$(ob).find('.'+sbClass+'-text').text(data.message);$(ob).find('.'+sbClass+'-action').text(data.actionText);setTimeout(function(){$(ob).addClass('active');},300);setTimeout(function(){$(ob).removeClass('active '+data.class);$(ob).find('.'+sbClass+'-text').text('');$(ob).find('.'+sbClass+'-action').text('');var sbEvent=$.Event('snackbar.closed');$(ob).trigger(sbEvent,[$(ob)]);},data.timeout);$('.'+sbClass+'-action').on('click',function(){$(this).parent('.'+sbClass).removeClass('active '+data.class);$(this).parent('.'+sbClass).find('.'+sbClass+'-text').text('');$(this).parent('.'+sbClass).find('.'+sbClass+'-action').text('');setTimeout(data.actionHandler,0);});return this;};$.fn.dialog=function(data){var dClass="dialog";this.each(function(i,ob){var ds=$(ob).data();if(data.action==='init'){data.backdrop=(data.backdrop===undefined)?false:getBoolean(data.backdrop);ds.backdrop=(ds.backdrop===undefined)?data.backdrop:getBoolean(ds.backdrop);}else{ds.backdrop=(ds.backdrop===undefined)?false:getBoolean(ds.backdrop);data.backdrop=(data.backdrop===undefined)?ds.backdrop:getBoolean(data.backdrop);ds.backdrop=data.backdrop;}if(ds.buttons!==undefined&&typeof(ds.buttons)==="string"){ds.buttons=JSON.parse(ds.buttons.replace(/'/g,'"'))}else{ds.buttons=undefined;}data={action:ds.action||data.action||'init',class:ds.class||data.action||'dialog',width:ds.width||data.width||'auto',height:ds.height||data.height||'auto',message:ds.message||data.message||'',backdrop:ds.backdrop,buttons:ds.buttons||data.buttons||[{class:'R',label:'ok',action:void(0)}]}
if(data.action==='init'){dialog.init(ob,data);}if(data.action==='open'){dialog.open(ob,data);}if(data.action==='close'){dialog.close(ob,data);}});}
$.fn.popup=function(data){var vArgs=Array.prototype.slice.call(arguments,1);this.each(function(i,ob){if(data.action==="init"){popup.init(50,50,0,0);}if(data.action==="refresh"){popup.refresh();}if(data.action==="open"){popup.open(ob,data.width,data.height);}if(data.action==="close"){popup.close(ob);}if(data.action==="loader"){popup.loader(ob,data.loading);}});};$.fn.fastInput=function(action){var formControls='input,button,select,textarea',accessibles=formControls+',a',findAccessibleElement=function(ob){if($($(accessibles)[$(accessibles).index(ob)+1]).is(':hidden')||$($(accessibles)[$(accessibles).index(ob)+1]).is(':disabled')||$($(accessibles)[$(accessibles).index(ob)+1]).is('[readonly]')||typeof($($(accessibles)[$(accessibles).index(ob)+1]))===undefined){return findAccessibleElement($($(accessibles)[$(accessibles).index(ob)+1]));}else{return $($(accessibles)[$(accessibles).index(ob)+1]);}},searchFormCtrl=function(ob){if($($(formControls)[$(formControls).index(ob)+1]).is(':hidden')||$($(formControls)[$(formControls).index(ob)+1]).is(':disabled')||$($(formControls)[$(formControls).index(ob)+1]).is('[readonly]')||typeof($($(formControls)[$(formControls).index(ob)+1]))===undefined){return searchFormCtrl($($(formControls)[$(formControls).index(ob)+1]));}else{return $($(formControls)[$(formControls).index(ob)+1]);}},focusFormCtrl=function(ob,currOb){if($(ob).length<=0||$(ob).is(':hidden')||$(ob).is(':disabled')||$(ob).is('[readonly]')||typeof($(ob))===undefined){return searchFormCtrl($(currOb));}else if($(ob).length>0){return $(ob);}else{return searchFormCtrl($(currOb));}};window.findAccessibleElement=findAccessibleElement;window.searchFormCtrl=searchFormCtrl;window.focusFormCtrl=focusFormCtrl;if(action==="init"){$(this).off('keydown.fastInput').on('keydown.fastInput','.form-control, input, select',function(e){switch(e.which){case kb.ENTER:if($(this).is('[class*="submit_"]')){var param='submit_'+$(this).attr('class').split('submit_')[1];param=param.split(' ')[0];return submitForm(param.split('_'));}var tgt=($(this).attr('data-focus')!==undefined||$(this).is('[data-focus]')!==false)?'#'+$(this).attr('data-focus'):'',fiEvent=$.Event('fastInputTargeting'),objTgt=this;tgt=($(this).attr('data-focus')!==undefined||$(this).is('[data-focus]')!==false)?'#'+$(this).attr('data-focus'):''
$(document).trigger(fiEvent,[tgt,this]);if(fiEvent.isDefaultPrevented()===true){return true;}if(tgt!==''){objTgt=focusFormCtrl(tgt,this);$(objTgt).focus().select();}else{objTgt=searchFormCtrl(this);$(objTgt).focus().select();}break;default:break;}});}};$.fn.preventAccess=function(settings){settings={formControl:settings.formControl||'.form-control',groupPrevent:settings.groupPrevent||false,group:settings.group||'[data-disabled-group]'};this.each(function(i,el){if(settings.groupPrevent===true){$(settings.group).each(function(g,gel){var fc=$(gel).find(settings.formControl);$(fc).each(function(f,fel){$(fel).attr({'tabindex':'-1','disabled':'disabled'});$(fel).off('focus.access').on('focus.access',function(){$(fel).blur();});});});}else{$(el).each(function(f,fel){$(fel).attr({'tabindex':'-1','disabled':'disabled'});$(fel).off('focus.access').on('focus.access',function(){$(fel).blur();});});}});return this;};$.fn.multiselector=function(settings){s={class:settings.class||'',placeholder:settings.placeholder||'Choose',csvDispCount:settings.max||3,captionFormat:settings.selectMsg||'{0} Selected',captionFormatAllSelected:settings.selectMsgAll||'{0} all selected!',floatWidth:settings.screen||500,forceCustomRendering:(settings.forceRender===undefined)?false:getBoolean(settings.forceRender),nativeOnDevice:settings.devices||['Android','BlackBerry','iPhone','iPad','iPod','Opera Mini','IEMobile','Silk'],outputAsCSV:(settings.csv===undefined)?false:getBoolean(settings.csv),csvSepChar:settings.csvSeperator||',',okCancelInMulti:(settings.buttons===undefined)?false:getBoolean(settings.buttons),triggerChangeCombined:(settings.live===undefined)?true:getBoolean(settings.live),selectAll:(settings.all===undefined)?false:getBoolean(settings.all),search:(settings.search===undefined)?false:getBoolean(settings.search),searchText:settings.searchText||'Search...',noMatch:settings.error||'No matches for "{0}"',prefix:settings.prefix||'',locale:settings.locale||['OK','Cancel','Select All'],top:(settings.up===undefined)?false:getBoolean(ds.top),tooltip:(settings.showTitle===undefined)?true:getBoolean(ds.tooltip),outputTo:settings.outputTo||'',outputTemplate:settings.outputTemplate||"<b> &gt; {{$}} </b>",outputSrcAttr:settings.outputSrcAttr||"value"}
return this.each(function(idx,el){var ds=$(el).data();ds.locale=(ds.locale)?ds.locale.split(','):s.locale;ds.devices=(ds.devices)?ds.devices.split(','):s.devices;settings={class:ds.class||s.class,placeholder:ds.placeholder||s.placeholder,csvDispCount:ds.max||s.max,captionFormat:ds.selectMsg||s.selectMsg,captionFormatAllSelected:ds.selectMsgAll||s.selectMsgAll,floatWidth:ds.screen||s.screen,forceCustomRendering:(ds.forceRender===undefined)?s.forceRender:getBoolean(ds.forceRender),nativeOnDevice:ds.devices||s.devices,outputAsCSV:(ds.csv===undefined)?s.csv:getBoolean(ds.csv),csvSepChar:ds.csvSeperator||s.csvSeperator,okCancelInMulti:(ds.buttons===undefined)?s.buttons:getBoolean(ds.buttons),triggerChangeCombined:(ds.live===undefined)?s.live:getBoolean(ds.live),selectAll:(ds.all===undefined)?s.all:getBoolean(ds.all),search:(ds.search===undefined)?s.search:getBoolean(ds.search),searchText:ds.searchText||s.searchText,noMatch:ds.error||s.error,prefix:ds.prefix||s.prefix,locale:ds.locale||s.locale,up:(ds.top===undefined)?s.top:getBoolean(ds.top),showTitle:(ds.tooltip===undefined)?s.tooltip:getBoolean(ds.tooltip),outputTo:ds.outputTo||s.outputTo,outputTemplate:ds.outputTemplate||s.outputTemplate,outputSrcAttr:ds.outputSrcAttr||s.outputSrcAttr}
$(el).SumoSelect(settings);$(el).closest('.SumoSelect').addClass(settings.class);if($.trim(settings.outputTo)!==''){var output=settings.outputTo,outputTemplate=settings.outputTemplate.replace(/'/g,'"'),outputSrc=settings.outputSrcAttr,act=null;outputTemplate=outputTemplate.replace(/{{\$action\=([a-z-]+)\(\)}}/,'').split('{{$}}');act=settings.outputTemplate.match(/{{\$action\=([a-z-]+)\(\)}}/);if(act!==null){act=act[0].split('{{')[1].split('}}')[0].split('=')[1];}$(el).attr('data-action',act);if($(output).length<=0){return;}$(el).off('change.multiselector').on('change.multiselector',function(){var av=new Array,sv=new Array;$(this).find('option:selected').each(function(){var ov=$(this).attr(outputSrc),v=$(this).attr('value');sv.push(v);av.push(ov);sv=sv.filter(onlyUnique);av=av.filter(onlyUnique);});$(output).html('');for(k in av){var d=(outputTemplate[0].replace('>',' data-val="'+sv[k]+'">'))+av[k]+outputTemplate[1];$(output).attr('data-rel','#'+$(el).attr('id'));$(output).append(d);$(output+' > *').off('click.multiselector').on('click.multiselector',function(){$($(output).attr('data-rel'))[0].sumo.unSelectItem($(this).attr('data-val'));if($.trim(act)!==''){if(typeof act==="function"){act.apply();}else if(typeof act==="string"){var fnName=act.split('('),fnparams=fnName[1].split(')')[0].split(','),fn=window[fnName[0]];if(typeof fn==="function"){fn.apply(null,fnparams)};}}});}});}});}
$.fn.dragger=function(){return this.each(function(idx,el){$(el).draggable({handle:".titlebar"||".popHeader",containment:$(el).attr('data-draggable'),scroll:false});});};$.fn.jsonPro=function(action){var vArgs=Array.prototype.slice.call(arguments,1),settings=vArgs[0],source=settings.source,json='';settings={'source':settings.source||'[data-jp-params]','jsonObject':settings.jsonObject||false,'filter':settings.filter||'all'};var jp={jsonBuilder:function(row){var args=Array.prototype.slice.call(arguments,1),json=($(row).length>1)?'[':'';$(row).each(function(si,sel){json+='{';json+=jp.propertyList($(sel).find(source),source);});json=json.slice(0,-1);json=($(row).length>1)?json+']':json;return json;},propertyList:function(dataEl,src){var pList='',jpAttr=src.replace(/[\[\]]/g,''),jpParams,config;$(dataEl).each(function(si,sel){var jpParams=$(sel).attr(jpAttr).split(/[\{\}]/g);config={'property':jpParams[0].split(':')[0],'datatype':(jpParams[0].split(':')[1])?jpParams[0].split(':')[1].split('{')[0]:'String','array':jpParams[1]};if(!isNull($(sel).val())){if(config.datatype==="Array"){var getValFrom=config.array.match(/\<([^<>])*\>/g);for(var i=0;i<getValFrom.length;i++){getValFrom[i]=getValFrom[i].replace(/[\<\>]/g,'');}for(var i=0;i<getValFrom.length;i++){var pv=$(sel).closest('[data-current]').find('.'+getValFrom[i]).val();config.array=config.array.replace('<'+getValFrom[i]+'>',pv);}pList+='"'+config.property+'":[';pList+=jp.arrayToJson((config.array).split(','));pList=pList.slice(0,-1);pList+='],';}else if(config.datatype==="Number"){pList+='"'+config.property+'":'+$(sel).val()+',';}else{pList+='"'+config.property+'":"'+$(sel).val()+'",';}}else{}});pList=pList.slice(0,-1)+'},'
return pList;},arrayToJson:function(arr){var json='{',config;$.each(arr,function(i,el){config={'property':el.split(':')[0],'datatype':(el.split(':')[1])?el.split(':')[1].split('{')[0]:'String','value':el.split(':')[2]};if(!isNull(config.value)){if(config.datatype==="Array"){}else if(config.datatype==="Number"){json+='"'+config.property+'":'+config.value+',';}else{json+='"'+config.property+'":"'+config.value+'",';}}});json=json.slice(0,-1);json+='},';return json;}};this.each(function(i,ob){var row;json='';if(action==="init"){$(source).each(function(si,el){$(el).closest('[data-jp-row]').attr('data-jp-row',false);$(el).off('change.jsonPro').on('change.jsonPro',function(){$(el).closest('[data-jp-row]').attr('data-jp-row',true);});});}else if(action==="build"){if(settings.filter==='all'||settings.filter==='default'||isNull(settings.filter)){row=$(ob).find('[data-jp-row]');json=jp.jsonBuilder(row);}else if(settings.filter==='edit'){row=$(ob).find('[data-jp-row="true"]');json=jp.jsonBuilder(row);}}else if(action===""){}if(!json){json={}||this;}else{if(settings.jsonObject===true){json=$.parseJSON(json);}}});return json;};}(jQuery));$(function(){"use strict";$('a[href*="#"]:not([href="#"]):not([data-toggle])').click(function(){if(location.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&location.hostname==this.hostname){var target=$(this.hash);target=target.length?target:$('[name='+this.hash.slice(1)+']');if(target.length){$('html, body').animate({scrollTop:(target.offset().top-130)},1000);return false;}}});$('.fileUpload input:file').change(function(){var fId=$(this).attr('id'),url=$('#'+fId).val()||$(this).attr('placeholder');$(this).parent('.fileUpload').find("span:first-child").text(url);});$('.fileUpload').each(function(i,el){var fId=$(el).find('input:file').attr('id'),url=$('#'+fId).val()||$(this).find('input:file').attr('placeholder');$(el).find("span:first-child").text(url);});$('input[type="number"]').on('keyup focus',function(){var min=$(this).attr('min')||0;this.maxLength=(this.maxLength<=0)?255:this.maxLength;if(this.value.length>=(this.maxLength)){this.value=this.value.slice(0,this.maxLength);}});$('[data-type="wizard"] .step').click(function(){var op=$.trim($(this).data('nav'));op=op.toLowerCase();var id=$(this).parents('.tab-pane').attr('id');switch(op){case'next':id=$(this).parents('.tab-pane').next().attr('id');$('[href=#'+id+']').parents('li').attr('aria-disabled','false');break;case'prev':id=$(this).parents('.tab-pane').prev().attr('id');$('[href=#'+id+']').parents('li').attr('aria-disabled','false');break;case'first':id=$('[aria-controls="'+id+'"]').closest('.nav-tabs').find('[aria-disabled="false"]:first a').attr('href').split('#')[1];break;case'last':id=$('[aria-controls="'+id+'"]').closest('.nav-tabs').find('[aria-disabled="false"]:last a').attr('href').split('#')[1];break;case'all':$('[href=#'+id+']').closest('.nav-tabs').find('li').attr('aria-disabled','false');break;default:break;}$('[href=#'+id+']').tab('show');});$('[aria-table-sort="true"]').each(function(i,el){$(el).tablesorter({textExtraction:function(node){if(node===null){return null;}node=$(node);while(node.children().length>0){node=node.children(":first");}if(node[0].tagName.toUpperCase()==="INPUT"){if(node.attr("type").toUpperCase()==="CHECKBOX"){return node.attr("checked").toString();}else{return $.trim(node.val());}}else{return $.trim(node.text());}}});});$(document).on('focus','.form-control, input, textarea',function(e){$(this).select();});});