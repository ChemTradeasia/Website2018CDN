var resposeDataId="#response_data",responseData="",selectedDomainUrl="",langId=null,domainId=null,start=!1,end=!1,selectedProducts=[];function setDomain(){domainId=$("#domain_id").val()}function setLanguage(){langId=$("#language_id").val()}function formSubmit(e){$("#"+e).submit()}function doValidate(e){$("#"+e).validate({errorPlacement:function(e,t){$(t).is('[data-control="material"]')?$(t).mtl({message:{type:"Error",text:e.text()}}):$(t).is('[data-type="selector"]')||$(t).is("[data-selector]")?$(e).insertAfter($(t).closest(".SumoSelect")):($(t).is('[type="checkbox"]')||$(t).is('[type="radio"]'))&&$(t).is(".custom")?$(e).insertAfter($(t).next("label")):$(e).insertAfter(t)}})}function redirect(e){1===e?location.reload():location.href=e}function getDomainBasedLang(e,t,a){selectedDomainUrl=$("#url_hidden_doamin_"+e).val(),doPostAjax(t,{domain_id:e},!1),responseData&&($("#selected_domain_id").val(e),generateCombo(responseData,"language_switch",a),$("#domainList li").each(function(t,a){var o=$(a).attr("data-domain-id");o!==e?$("#domainList"+o).removeClass("active"):$("#domainList"+o).addClass("active")}))}function doPostAjax(e,t,a){$.ajax({type:"POST",url:e,data:t,async:a,success:function(e){if((responseData=e).message){var t={timeout:1e4,actionText:"Ok",message:responseData.message};$("#snackbarAlert").showSnackbar(t)}}})}function doPostAjaxForQuote(e,t,a){$.ajax({type:"POST",url:e,data:t,async:a,success:function(e){responseData=e}})}function generateCombo(e,t,a){var o="",n="",s=$("#langDataUrl").val();$.each(e,function(e,t){var r="";a==t.value&&(r="checked"),o+='<input type="radio" name="language" id="lang'+t.code+'" class="btn" value="'+t.value+'" data-lang="lang'+t.code+'" onclicke="changeLang(this.value, '+s+')" '+r+" />",o+='<label for="lang'+t.code+'">'+t.label+"</label>",n+='<input type="hidden" id="url_lang_switch_'+t.value+'" value="'+t.url+'" />'}),$("#lang_switch_hidden_div").html(n),$("#"+t).html(o)}function switchLang(e){var t="";$("#"+e+' input[type="radio"]').each(function(e,a){$(a).is(":checked")&&(t=$(a).val())}),console.log(t);var a=$("#url_lang_switch_"+t).val();location.href=a}function changeLang(e,t){getDomainBasedLang($("#selected_domain_id").val(),t,e)}function newslwtterSubscribe(e,t,a,o){doPostWithValidate(e,t,!0,a,o)}function fnBtnOk(){$(".btn.subscribe").removeClass("curr-loading")}function doPostWithValidate(e,t,a,o,n){$("#"+t).validate({errorPlacement:function(e,t){$(t).is('[data-control="material"]')?$(t).mtl({message:{type:"Error",text:e.text()}}):$(t).is('[data-type="selector"]')||$(t).is("[data-selector]")?$(e).insertAfter($(t).closest(".SumoSelect")):($(t).is('[type="checkbox"]')||$(t).is('[type="radio"]'))&&$(t).is(".custom")?$(e).insertAfter($(t).next("label")):$(e).insertAfter(t)},success:function(e,t){$(t).is('[data-control="material"]')&&$(t).mtl({message:{type:"Defualt",text:e.text()}})},submitHandler:function(s){loadStart(n,o),$.post(e,$("form#"+t).serialize(),function(e){responseData=e,a&&(resetForm(t),$('[data-control="material"]').trigger("change")),responseData.captcha&&refreshCaptcha(n,o),responseData.message&&responseData.url?(loadStop(n,o),$("#dialog").dialog({action:"open",width:"440px",message:'<h1 class="h4 semibold"><i class="fa fa-info-circle text-theme m-r-10"></i>'+responseData.title+"</h1>"+responseData.message,buttons:[{label:"ok",class:"btn-info",action:function(){redirect(responseData.url),$("#dialog").dialog({action:"close"})}}]})):responseData.message&&$("#dialog").dialog({action:"open",width:"440px",message:'<h1 class="h4 semibold"><i class="fa fa-info-circle text-theme m-r-10"></i>'+responseData.title+"</h1>"+responseData.message,buttons:[{label:"ok",class:"btn-info",action:function(){loadStop(n,o),$("#dialog").dialog({action:"close"})}}]}),responseData.url})}})}function resetForm(e){$("#"+e+" input, textarea, select").each(function(e,t){$(t).val("")})}function autoComplete(e,t,a){$("#"+e).autocomplete({source:function(a,o){var n=$("#"+e).val(),s=$("#language_id").val(),r=$("#domain_id").val();$.ajax({url:t,method:"POST",data:{filter:n,languageId:s,domainId:r},dataType:"json",success:function(e){o($.map(e,function(e){return{label:e.title,name:e.productname,id:e.id}}))}})},select:function(t,o){return $("#"+e).val(o.item.name),a&&$("#"+a).val(o.item.id),!1}}).autocomplete("instance")._renderItem=function(e,t){return $("<li>").data("item.autocomplete",t).append("<div>"+t.label+"</div>").appendTo(e)}}function quoteProductAutocomplete(e,t,a,o,n){$("#"+e).autocomplete({source:function(a,o){var n=$("#"+e).val(),s=$("#language_id").val(),r=$("#domain_id").val();$.ajax({url:t,method:"POST",data:{filter:n,languageId:s,domainId:r,selectedProducts:selectedProducts},dataType:"json",success:function(e){o($.map(e,function(e){return{label:e.title,name:e.productname,id:e.id}}))}})},select:function(t,s){return $("#"+e).val(s.item.name),a&&($("#"+a).val(s.item.id),addToQuoteFromAuto(o,$("#"+a).val(),$("#old"+a).val(),"",n,""),1===responseData.success&&$("#old"+a).val(s.item.id),selectedProducts.push(s.item.id),$("#selectedProducts").val(selectedProducts)),!1}}).autocomplete("instance")._renderItem=function(e,t){return $("<li>").data("item.autocomplete",t).append("<div>"+t.label+"</div>").appendTo(e)}}function addClickCount(e,t,a){doPostAjax(e,{productId:t,languageId:langId},!0),redirect(a)}function productSearch(e,t){var a=$("#"+e).val();redirect((a=a.replace("/",""))?t+"/"+encodeURIComponent(a):t)}function productAdvancedSearch(e,t){$("#"+e+' [data-adv-search="true"]').each(function(e,a){if($(a).val()){var o=$(a).val(),n=encodeURIComponent(removeSlahes(o));t+="/"+$(a).attr("name")+"-"+n}}),redirect(t)}function removeSlahes(e){return e.replace(/\//g,"")}function encodes(e){return e=e.replace(/-/g,"2D")}function doSearchOnEnter(e,t){$("#"+e).keypress(function(a){13==a.which&&productSearch(e,t)})}function doAdvSearchOnEnter(e,t){$("#"+e+' [data-adv-search="true"]').each(function(a,o){$(o).keypress(function(a){13==a.which&&productAdvancedSearch(e,t)})})}function loadStart(e,t){$("#"+t).addClass(e)}function loadStop(e,t){$("#"+t).removeClass(e)}function addToQuote(e,t,a,o,n){doPostAjax(e,{productId:t},!1);var s=parseInt($("#"+o).attr("aria-count"));1===responseData.success&&o&&$("#"+o).attr("aria-count",s+1),1===responseData.success&&($("#addToCartButton"+t).text(n),$("#addToCartButton"+t).attr("disabled","disabled"))}function addToQuoteFromAuto(e,t,a,o,n,s){doPostAjaxForQuote(e,{productId:t,productIdOld:a},!1);var r=parseInt($("#"+n).attr("aria-count"));1===responseData.success&&n&&$("#"+n).attr("aria-count",r+1),1===responseData.success&&($("#addToCartButton"+t).text(s),$("#addToCartButton"+t).attr("disabled","disabled"))}function setUploadDocs(e,t,a){new AjaxUpload("#"+e+"Upload-1_r"+a,{action:"index.php?path=theme/Filemanager/uploadDoc&token="+t,name:"image",autoSubmit:!1,responseType:"json",onChange:function(e,t){return this.submit(),!1},onSubmit:function(e,t){},onComplete:function(t,o){if(o.success){$("#"+e+"Name-1_r"+a).text(o.realname);o.filename;$("#"+e).val(o.filename),$("#"+e+"Path-1_r"+a).val(o.filename),$(".loading").remove()}return o.error&&alert(o.error),!1}})}function getStatesByCountry(e,t,a){if(e){var o='<option value="">Select state</option>';$.post(t,{country_id:e},function(e){$.each(e,function(e,t){o+='<option value="'+t.id+'"  >'+t.state_name+"</option>"}),$("#"+a).html(o)})}}function downloadTDS(e,t,a,o,n){$("#"+t).validate({errorPlacement:function(e,t){$(t).is('[data-control="material"]')?$(t).mtl({message:{type:"Error",text:e.text()}}):$(t).is('[data-type="selector"]')||$(t).is("[data-selector]")?$(e).insertAfter($(t).closest(".SumoSelect")):($(t).is('[type="checkbox"]')||$(t).is('[type="radio"]'))&&$(t).is(".custom")?$(e).insertAfter($(t).next("label")):$(e).insertAfter(t)},success:function(e,t){$(t).is('[data-control="material"]')&&$(t).mtl({message:{type:"Defualt",text:e.text()}})},submitHandler:function(s){loadStart(n,o),$.post(e,$("form#"+t).serialize(),function(e){(responseData=e).captcha&&refreshCaptcha(n,o),responseData.message&&responseData.url?(popup.close("#tdsDownloadPopup"),location.href=responseData.url):responseData.message&&($("#dialog").dialog({action:"open",width:"440px",message:responseData.message,buttons:[{label:"ok",class:"btn-info",action:function(){loadStop(n,o),$("#dialog").dialog({action:"close"})}}]}),1===responseData.success&&(a&&resetForm(t),popup.close("#tdsDownloadPopup")))})}})}function downloadMSDS(e,t,a,o,n){$("#"+t).validate({errorPlacement:function(e,t){$(t).is('[data-control="material"]')?$(t).mtl({message:{type:"Error",text:e.text()}}):$(t).is('[data-type="selector"]')||$(t).is("[data-selector]")?$(e).insertAfter($(t).closest(".SumoSelect")):($(t).is('[type="checkbox"]')||$(t).is('[type="radio"]'))&&$(t).is(".custom")?$(e).insertAfter($(t).next("label")):$(e).insertAfter(t)},success:function(e,t){$(t).is('[data-control="material"]')&&$(t).mtl({message:{type:"Defualt",text:e.text()}})},submitHandler:function(s){loadStart(n,o),$.post(e,$("form#"+t).serialize(),function(e){responseData=e,a&&resetForm(t),responseData.captcha&&refreshCaptcha(n,o),responseData.message&&responseData.url?(popup.close("#msdsDownloadPopup"),location.href=responseData.url):responseData.message&&($("#dialog").dialog({action:"open",width:"440px",message:responseData.message,buttons:[{label:"ok",class:"btn-info",action:function(){loadStop(n,o),$("#dialog").dialog({action:"close"})}}]}),1===responseData.success&&(a&&resetForm(t),popup.close("#tdsDownloadPopup")))})}})}function pupup(e,t,a,o){popup.open("#"+e,t,a,o)}function tdsPopup(e,t,a,o,n,s){var r={selectedProduct:o};$.ajax({type:"POST",url:s,data:r,success:function(s){0==(responseData=s).message?alert("No information at the moment"):($("#product_grade_lang_id_tds").val(o),$("#tdspdf").val(n),pupup(e,t,a,{units:"px"}))}})}function msdsPopup(e,t,a,o,n,s){var r={selectedProduct:o};$.ajax({type:"POST",url:s,data:r,success:function(s){0==(responseData=s).message?alert("No information at the moment"):($("#product_grade_lang_id_msds").val(o),$("#msdspdf").val(n),pupup(e,t,a,{units:"px"}))}})}function newsletterContentPopup(e,t,a,o,n){pupup(e,t,a,{units:"px"})}function refreshCaptcha(e,t){var a=$("#refreshCaptcha").val();loadStart(e,t),$.ajax({type:"POST",url:a,data:{},async:!1,success:function(t){$(".captcha").html(t),loadStop(e,e)}})}function bannerPopup(e,t,a,o,n,s){$("#product_grade_lang_id_tds").val(o),$("#banner_link").val(n),$("#banner_text").val(s),$("#tdspdf").val(n),pupup(e,t,a,{units:"px"})}function bannerUrlDownload(e,t,a,o,n){$("#"+t).validate({errorPlacement:function(e,t){$(t).is('[data-control="material"]')?$(t).mtl({message:{type:"Error",text:e.text()}}):$(t).is('[data-type="selector"]')||$(t).is("[data-selector]")?$(e).insertAfter($(t).closest(".SumoSelect")):($(t).is('[type="checkbox"]')||$(t).is('[type="radio"]'))&&$(t).is(".custom")?$(e).insertAfter($(t).next("label")):$(e).insertAfter(t)},success:function(e,t){$(t).is('[data-control="material"]')&&$(t).mtl({message:{type:"Defualt",text:e.text()}})},submitHandler:function(s){loadStart(n,o),$.post(e,$("form#"+t).serialize(),function(e){if(responseData=e,a&&resetForm(t),loadStop(n,o),console.log("hello"),responseData.captcha&&refreshCaptcha(n,o),responseData.message&&responseData.url)return a&&resetForm(t),loadStop(n,o),console.log("hello"),popup.close("#tdsDownloadPopup"),window.open(responseData.url),!1;responseData.message&&(a&&resetForm(t),loadStop(n,o),console.log("hello"),$("#dialog").dialog({action:"open",width:"440px",message:responseData.message,buttons:[{label:"ok",class:"btn-info",action:function(){loadStop(n,o),$("#dialog").dialog({action:"close"})}}]}),1===responseData.success&&(a&&resetForm(t),popup.close("#tdsDownloadPopup")))})}})}function productDocSearch(e,t){var a=$("#"+e).val();redirect((a=a.replace("/",""))?t+"/"+encodeURIComponent(a):t)}function doSearchOnEnterDoc(e,t){$("#"+e).keypress(function(a){13==a.which&&productDocSearch(e,t)})}function productDocsSelected(e){if($("#selectedProducts").val().split(",").length>10)return alert("You can select only 10!"),!1;$("#selectedProducts").val($("#selectedProducts").val()+e.id+",");e.id}function zipDownload(){var e=$("#ziplink").val(),t=$("#selectedProducts").val();$.ajax({type:"POST",url:e,data:{filter:name,languageId:langId,domainId:domainId,selectedProducts:t},success:function(e){data=JSON.parse(e),200==data.status&&(location.href=data.filename)}})}